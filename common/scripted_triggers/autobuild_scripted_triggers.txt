#	Example:
# 
#	example_trigger = {
#		is_country_type = default
#		free_leader_slots > 0
#	}
#
#
#	In a script file:
#
#	trigger = {
#		example_trigger = yes
#	}
#

has_any_farm = {
	or = {
		has_building = "building_agri_processing_complex"
		has_building = "building_basic_farm"
		has_building = "building_hydroponics_farm_1"
		has_building = "building_hydroponics_farm_2"
		has_building = "building_hydroponics_farm_3"
		has_building = "building_hydroponics_farm_4"
		has_building = "building_hydroponics_farm_5"
	}
}

autobuild_tile_not_has_building = {
	or = {
		has_building = no
		and = {
			exists = owner
			owner = {
				has_country_flag = auto_build_farm_replace
			}
			or = {
				has_building = "building_basic_farm"
				has_building = "building_hydroponics_farm_1"
				has_building = "building_hydroponics_farm_2"
				has_building = "building_hydroponics_farm_3"
				has_building = "building_hydroponics_farm_4"
				has_building = "building_hydroponics_farm_5"
			}
		}
	}
}

has_any_mines = {
	or = {
		has_building = "building_slave_processing"
		has_building = "building_mineral_processing_plant_1"
		has_building = "building_mineral_processing_plant_2"
		has_building = "building_basic_mine"
		has_building = "building_mining_network_1"
		has_building = "building_mining_network_2"
		has_building = "building_mining_network_3"
		has_building = "building_mining_network_4"
		has_building = "building_mining_network_5"
	}
}

has_any_power_plant = {
	or = {
		has_building = "building_basic_power_plant"
		has_building = "building_power_plant_1"
		has_building = "building_power_plant_2"
		has_building = "building_power_plant_3"
		has_building = "building_power_plant_4"
		has_building = "building_power_plant_5"
		has_building = "betharian_power_plant_1"
		has_building = "betharian_power_plant_2"
		has_building = "betharian_power_plant_3"
		has_building = "betharian_power_plant_4"
		has_building = "building_power_hub_1"
		has_building = "building_power_hub_2"
	}
}
		
has_any_science_lab = {
	or = {
		has_building = "building_basic_science_lab_1"
		has_building = "building_physics_lab_1"
		has_building = "building_physics_lab_2"
		has_building = "building_physics_lab_3"
		has_building = "building_physics_lab_4"
		has_building = "building_biolab_1"
		has_building = "building_biolab_2"
		has_building = "building_biolab_3"
		has_building = "building_biolab_4"
		has_building = "building_engineering_facility_1"
		has_building = "building_engineering_facility_2"
		has_building = "building_engineering_facility_3"
		has_building = "building_engineering_facility_4"
	}
}		

free_from_autobuild = {
	or = {
		has_modifier = "free_from_auto_build"
		has_modifier = "planet_labs_auto_build"
		has_modifier = "planet_forge_auto_build"
		has_modifier = "planet_power_plant_auto_build"
		has_modifier = "planet_farms_auto_build"
		has_building_construction = yes
		sector_controlled = yes
	}
}

tile_has_strategic_res = {
	or = {
		has_resource = {
			type = sr_alien_pets
			amount > 0
		}
		has_resource = {
			type = sr_betharian
			amount > 0
		}
	}
}
tile_has_energy_more_than_others = {
	and = {
		or = {
			and = {
				exists = owner
				owner = { not = { has_country_flag = auto_build_7_10 } }
			}
			and = {
				exists = planet
				planet = {
					or = {
						has_modifier = "free_from_auto_build"
						has_modifier = "planet_labs_auto_build"
						has_modifier = "planet_forge_auto_build"
						has_modifier = "planet_power_plant_auto_build"
						has_modifier = "planet_farms_auto_build"
					}
				}
			}
		}
		tile_has_strategic_res = no
		or = {
			has_resource = {
				type = energy
				amount > 4
			}
			and = {
				has_resource = {
					type = energy
					amount = 4
				}
				nor = {
					has_resource = {
						type = minerals
						amount > 4
					}
					has_resource = {
						type = food
						amount > 4
					}
					has_resource = {
						type = physics_research
						amount > 4
					}
					has_resource = {
						type = society_research
						amount > 4
					}
					has_resource = {
						type = engineering_research
						amount > 4
					}
				}
			}
			and = {
				has_resource = {
					type = energy
					amount = 3
				}
				nor = {
					has_resource = {
						type = minerals
						amount > 3
					}
					has_resource = {
						type = food
						amount > 3
					}
					has_resource = {
						type = physics_research
						amount > 3
					}
					has_resource = {
						type = society_research
						amount > 3
					}
					has_resource = {
						type = engineering_research
						amount > 3
					}
				}
			}
			and = {
				has_resource = {
					type = energy
					amount = 2
				}
				nor = {
					has_resource = {
						type = minerals
						amount > 2
					}
					has_resource = {
						type = food
						amount > 2
					}
					has_resource = {
						type = physics_research
						amount > 2
					}
					has_resource = {
						type = society_research
						amount > 2
					}
					has_resource = {
						type = engineering_research
						amount > 2
					}
				}
			}
			and = {
				has_resource = {
					type = energy
					amount = 1
				}
				nor = {
					has_resource = {
						type = minerals
						amount > 1
					}
					has_resource = {
						type = food
						amount > 1
					}
					has_resource = {
						type = physics_research
						amount > 1
					}
					has_resource = {
						type = society_research
						amount > 1
					}
					has_resource = {
						type = engineering_research
						amount > 1
					}
				}
			}
		}
	}
}

tile_has_minerals_more_than_others = {
	and = {
		or = {
			and = {
				exists = owner
				owner = { not = { has_country_flag = auto_build_7_8 } }
			}
			and = {
				exists = planet
				planet = {
					or = {
						has_modifier = "free_from_auto_build"
						has_modifier = "planet_labs_auto_build"
						has_modifier = "planet_forge_auto_build"
						has_modifier = "planet_power_plant_auto_build"
						has_modifier = "planet_farms_auto_build"
					}
				}
			}
		}
		tile_has_strategic_res = no
		or = {
			has_resource = {
				type = minerals
				amount > 4
			}
			and = {
				has_resource = {
					type = minerals
					amount = 4
				}
				nor = {
					has_resource = {
						type = energy
						amount > 4
					}
					and = {
						planet = { not = { has_planet_flag = autobuild_all_farms_builded } }
						has_resource = {
							type = food
							amount > 4
						}
					}
					has_resource = {
						type = physics_research
						amount > 4
					}
					has_resource = {
						type = society_research
						amount > 4
					}
					has_resource = {
						type = engineering_research
						amount > 4
					}
				}
			}
			and = {
				has_resource = {
					type = minerals
					amount = 3
				}
				nor = {
					has_resource = {
						type = energy
						amount > 3
					}
					and = {
						planet = { not = { has_planet_flag = autobuild_all_farms_builded } }
						has_resource = {
							type = food
							amount > 3
						}
					}
					has_resource = {
						type = physics_research
						amount > 3
					}
					has_resource = {
						type = society_research
						amount > 3
					}
					has_resource = {
						type = engineering_research
						amount > 3
					}
				}
			}
			and = {
				has_resource = {
					type = minerals
					amount = 2
				}
				nor = {
					has_resource = {
						type = energy
						amount > 2
					}
					and = {
						planet = { not = { has_planet_flag = autobuild_all_farms_builded } }
						has_resource = {
							type = food
							amount > 2
						}
					}
					has_resource = {
						type = physics_research
						amount > 2
					}
					has_resource = {
						type = society_research
						amount > 2
					}
					has_resource = {
						type = engineering_research
						amount > 2
					}
				}
			}
			and = {
				has_resource = {
					type = minerals
					amount = 1
				}
				nor = {
					has_resource = {
						type = energy
						amount > 1
					}
					and = {
						planet = { not = { has_planet_flag = autobuild_all_farms_builded } }
						has_resource = {
							type = food
							amount > 1
						}
					}
					has_resource = {
						type = physics_research
						amount > 1
					}
					has_resource = {
						type = society_research
						amount > 1
					}
					has_resource = {
						type = engineering_research
						amount > 1
					}
				}
			}
		}
	}
}

tile_has_food_more_than_others = {
	and = {
		planet = { not = { has_planet_flag = autobuild_all_farms_builded } }
		or = {
			and = {
				exists = owner
				owner = { not = { has_country_flag = auto_build_7_9 } }
			}
			and = {
				exists = planet
				planet = {
					or = {
						has_modifier = "free_from_auto_build"
						has_modifier = "planet_labs_auto_build"
						has_modifier = "planet_forge_auto_build"
						has_modifier = "planet_power_plant_auto_build"
						has_modifier = "planet_farms_auto_build"
					}
				}
			}
		}
		tile_has_strategic_res = no
		or = {
			has_resource = {
				type = food
				amount > 4
			}
			and = {
				has_resource = {
					type = food
					amount = 4
				}
				nor = {
					has_resource = {
						type = energy
						amount > 4
					}
					has_resource = {
						type = minerals
						amount > 4
					}
					has_resource = {
						type = physics_research
						amount > 4
					}
					has_resource = {
						type = society_research
						amount > 4
					}
					has_resource = {
						type = engineering_research
						amount > 4
					}
				}
			}
			and = {
				has_resource = {
					type = food
					amount = 3
				}
				nor = {
					has_resource = {
						type = energy
						amount > 3
					}
					has_resource = {
						type = minerals
						amount > 3
					}
					has_resource = {
						type = physics_research
						amount > 3
					}
					has_resource = {
						type = society_research
						amount > 3
					}
					has_resource = {
						type = engineering_research
						amount > 3
					}
				}
			}
			and = {
				has_resource = {
					type = food
					amount = 2
				}
				nor = {
					has_resource = {
						type = energy
						amount > 2
					}
					has_resource = {
						type = minerals
						amount > 2
					}
					has_resource = {
						type = physics_research
						amount > 2
					}
					has_resource = {
						type = society_research
						amount > 2
					}
					has_resource = {
						type = engineering_research
						amount > 2
					}
				}
			}
			and = {
				has_resource = {
					type = food
					amount = 1
				}
				nor = {
					has_resource = {
						type = energy
						amount > 1
					}
					has_resource = {
						type = minerals
						amount > 1
					}
					has_resource = {
						type = physics_research
						amount > 1
					}
					has_resource = {
						type = society_research
						amount > 1
					}
					has_resource = {
						type = engineering_research
						amount > 1
					}
				}
			}
		}
	}
}

tile_has_any_res = {
	or = {
		tile_has_strategic_res = yes
		and = {
			or = {
				and = {
					exists = owner
					owner = { not = { has_country_flag = auto_build_7_8 } }
				}
				and = {
					exists = planet
					planet = {
						or = {
							has_modifier = "free_from_auto_build"
							has_modifier = "planet_labs_auto_build"
							has_modifier = "planet_forge_auto_build"
							has_modifier = "planet_power_plant_auto_build"
							has_modifier = "planet_farms_auto_build"
						}
					}
				}
			}
			has_resource = {
				type = minerals
				amount > 0
			}
		}
		and = {
			planet = { not = { has_planet_flag = autobuild_all_farms_builded } }
			or = {
				and = {
					exists = owner
					owner = { not = { has_country_flag = auto_build_7_9 } }
				}
				and = {
					exists = planet
					planet = {
						or = {
							has_modifier = "free_from_auto_build"
							has_modifier = "planet_labs_auto_build"
							has_modifier = "planet_forge_auto_build"
							has_modifier = "planet_power_plant_auto_build"
							has_modifier = "planet_farms_auto_build"
						}
					}
				}
			}
			has_resource = {
				type = food
				amount > 0
			}
		}
		and = {
			or = {
				and = {
					exists = owner
					owner = { not = { has_country_flag = auto_build_7_10 } }
				}
				and = {
					exists = planet
					planet = {
						or = {
							has_modifier = "free_from_auto_build"
							has_modifier = "planet_labs_auto_build"
							has_modifier = "planet_forge_auto_build"
							has_modifier = "planet_power_plant_auto_build"
							has_modifier = "planet_farms_auto_build"
						}
					}
				}
			}
			has_resource = {
				type = energy
				amount > 0
			}
		}
		and = {
			or = {
				and = {
					exists = owner
					owner = { not = { has_country_flag = auto_build_7_11 } }
				}
				and = {
					exists = planet
					planet = {
						or = {
							has_modifier = "free_from_auto_build"
							has_modifier = "planet_labs_auto_build"
							has_modifier = "planet_forge_auto_build"
							has_modifier = "planet_power_plant_auto_build"
							has_modifier = "planet_farms_auto_build"
						}
					}
				}
			}
			or = {
				has_resource = {
					type = physics_research
					amount > 0
				}
				has_resource = {
					type = society_research
					amount > 0
				}
				has_resource = {
					type = engineering_research
					amount > 0
				}
			}
		}
	}
}

tile_has_science_more_than_others = {
	and = {
		or = {
			and = {
				exists = owner
				owner = { not = { has_country_flag = auto_build_7_11 } }
			}
			and = {
				exists = planet
				planet = {
					or = {
						has_modifier = "free_from_auto_build"
						has_modifier = "planet_labs_auto_build"
						has_modifier = "planet_forge_auto_build"
						has_modifier = "planet_power_plant_auto_build"
						has_modifier = "planet_farms_auto_build"
					}
				}
			}
		}
		tile_has_strategic_res = no
		or = {
			has_resource = {
				type = physics_research
				amount > 4
			}
			has_resource = {
				type = society_research
				amount > 4
			}
			has_resource = {
				type = engineering_research
				amount > 4
			}
			and = {
				or = {
					has_resource = {
						type = physics_research
						amount = 4
					}
					has_resource = {
						type = society_research
						amount = 4
					}
					has_resource = {
						type = engineering_research
						amount = 4
					}
				}
				nor = {
					has_resource = {
						type = energy
						amount > 4
					}
					has_resource = {
						type = minerals
						amount > 4
					}
					has_resource = {
						type = food
						amount > 4
					}
				}
			}
			and = {
				or = {
					has_resource = {
						type = physics_research
						amount = 3
					}
					has_resource = {
						type = society_research
						amount = 3
					}
					has_resource = {
						type = engineering_research
						amount = 3
					}
				}
				nor = {
					has_resource = {
						type = energy
						amount > 3
					}
					has_resource = {
						type = minerals
						amount > 3
					}
					has_resource = {
						type = food
						amount > 3
					}
				}
			}
			and = {
				or = {
					has_resource = {
						type = physics_research
						amount = 2
					}
					has_resource = {
						type = society_research
						amount = 2
					}
					has_resource = {
						type = engineering_research
						amount = 2
					}
				}
				nor = {
					has_resource = {
						type = energy
						amount > 2
					}
					has_resource = {
						type = minerals
						amount > 2
					}
					has_resource = {
						type = food
						amount > 2
					}
				}
			}
			and = {
				or = {
					has_resource = {
						type = physics_research
						amount = 1
					}
					has_resource = {
						type = society_research
						amount = 1
					}
					has_resource = {
						type = engineering_research
						amount = 1
					}
				}
				nor = {
					has_resource = {
						type = energy
						amount > 1
					}
					has_resource = {
						type = minerals
						amount > 1
					}
					has_resource = {
						type = food
						amount > 1
					}
				}
			}
		}
	}
}

tile_has_any_minerals = {
	and = {
		or = {
			and = {
				exists = owner
				owner = { not = { has_country_flag = auto_build_7_8 } }
			}
			and = {
				exists = planet
				planet = {
					or = {
						has_modifier = "free_from_auto_build"
						has_modifier = "planet_labs_auto_build"
						has_modifier = "planet_forge_auto_build"
						has_modifier = "planet_power_plant_auto_build"
						has_modifier = "planet_farms_auto_build"
					}
				}
			}
		}
		has_resource = {
			type = minerals
			amount > 0
		}
		tile_has_strategic_res = no
	}
}

autobuild_cost = {
	or = {
		not = { has_country_flag = auto_build_cost }
		and = {
			has_country_flag = auto_build_cost_5000
			minerals > 5000
			or = {
				not = { has_global_flag = gf_alphamod_activated }
				energy > 5000
			}
		}
		and = {
			has_country_flag = auto_build_cost_2500
			minerals > 2500
			or = {
				not = { has_global_flag = gf_alphamod_activated }
				energy > 2500
			}
		}
		and = {
			has_country_flag = auto_build_cost_1000
			minerals > 1000
			or = {
				not = { has_global_flag = gf_alphamod_activated }
				energy > 1000
			}
		}
		and = {
			has_country_flag = auto_build_cost_500
			minerals > 500
			or = {
				not = { has_global_flag = gf_alphamod_activated }
				energy > 500
			}
		}
	}
}